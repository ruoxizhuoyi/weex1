<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>动态原型模式</title>
    <script type="text/javascript">
        function Person(name,age) {
            this.name = name;
            this.age = age;
            console.log('1');
            if(typeof this.sayName != "function") {
                console.log('2');
                //字面量重写原型
                Person.prototype = {
                    constructor: Person,
                    sayName : function() {
                        console.log(this.name);
                    }
                }
                // Person.prototype = {
                //     name : 'hahah',
                //     sayName : function() {
                //         console.log(this.name);
                //     }
                // }

                // //直接原型拓展方法
                // Person.prototype.sayName = function() {
                //     console.log(this.name);
                // }
            }
        }

        var p1 = new Person("老司机",33);
        console.log('3');
        // var p2 = new Person("崔bug",55);
        console.log('4');
        console.log(p1);
        p1.sayName(); //报错  
        // p2.sayName();   //崔bug


        function People(name,age) {
            this.name = name;
            this.age = age;
        }
        // People.prototype.sayAge = function() {
            // console.log(this.age);
        // }
        // People.prototype.job = 'chengxuyuan';
        People.prototype = {
            constructor : People,
            job : 'test',
            age : '22',
            sayName : function() {
                console.log(this.name);
            },
            sayAge : function() {
                console.log(this.job);
            }
        }   

        // var p3 = new People("汪大爷",24);
        // console.log(p3);
        // console.log(p3.age);
        // p3.sayAge();
        // p3.sayName();

        // p3.__proto__.sayAge();
        // p3.sayName();
        // p3.sayAge();

        // console.log(People.prototype.isPrototypeOf(p3)); //true  告诉我为什么

        // console.log(p3.job);

        // console.log(p3.__proto__.constructor.prototype === People.prototype); //true
        // p3.__proto__.constructor.prototype.sayAge();
        // p3.sayName();
        // p3.sayAge();


        // People.prototype.sayName = function() {
        //     console.log(this.name);
        // }



    </script>
</head>
<body>
    
</body>
</html>
